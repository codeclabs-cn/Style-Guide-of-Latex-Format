%! Author = codeclabs-cn
%! Date = 2022/12/29

\section{sizeof}\label{sec:sizeof}
Prefer \mintinline[breakanywhere,bgcolor=code_bg_pro]{C++}{sizeof(varname)} to \mintinline[breakanywhere,bgcolor=code_bg_pro]{C++}{sizeof(type)}.

Use \mintinline[breakanywhere,bgcolor=code_bg_pro]{C++}{sizeof(varname)} when you take the size of a particular variable. \mintinline[breakanywhere,bgcolor=code_bg_pro]{C++}{sizeof(varname)} will update appropriately if someone changes the variable type either now or later. You may use \mintinline[breakanywhere,bgcolor=code_bg_pro]{C++}{sizeof(type)} for code unrelated to any particular variable, such as code that manages an external or internal data format where a variable of an appropriate C++ type is not convenient.
% \vspace{-\baselineskip}
\begin{minted}{C++}
MyStruct data;
memset(&data, 0, sizeof(data));
\end{minted}
 % \vspace{-\baselineskip}
\begin{minted}[mathescape,
    bgcolor=code_bg_con,
    linenos,
    numbersep=5pt,
    autogobble, % 左对齐
    breaklines,
    frame=lines,
    framesep=2mm]{C++}
memset(&data, 0, sizeof(MyStruct));
\end{minted}
% \vspace{-\baselineskip}
\begin{minted}[mathescape,
    escapeinside=~~,
    linenos,
    numbersep=5pt,
    autogobble, % 左对齐
    breaklines,
    frame=lines,
    framesep=2mm]{C++}
if (raw_size < sizeof(int)) {
  LOG(ERROR) << "compressed record not big enough for count: " << raw_size;
  return false;
}
\end{minted}
