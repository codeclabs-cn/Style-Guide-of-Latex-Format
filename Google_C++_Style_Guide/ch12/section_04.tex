%! Author = codeclabs-cn
%! Date = 2022/12/30

\section{Function Declarations and Definitions}\label{sec:function-declarations-and-definitions}
Return type on the same line as function name, parameters on the same line if they fit. Wrap parameter lists which do not fit on a single line as you would wrap arguments in a \hyperref[sec:function-calls]{function call}.

Functions look like this:
% \vspace{-\baselineskip}
\begin{minted}{C++}
ReturnType ClassName::FunctionName(Type par_name1, Type par_name2) {
  DoSomething();
  ...
}
\end{minted}

If you have too much text to fit on one line:
% \vspace{-\baselineskip}
\begin{minted}{C++}
ReturnType ClassName::ReallyLongFunctionName(Type par_name1, Type par_name2,
                                             Type par_name3) {
  DoSomething();
  ...
}
\end{minted}

or if you cannot fit even the first parameter:
% \vspace{-\baselineskip}
\begin{minted}{C++}
ReturnType LongClassName::ReallyReallyReallyLongFunctionName(
    Type par_name1,  // 4 space indent
    Type par_name2,
    Type par_name3) {
  DoSomething();  // 2 space indent
  ...
}
\end{minted}
Some points to note:
\begin{itemize}
    \item Choose good parameter names.
    \item A parameter name may be omitted only if the parameter is not used in the function's definition.
    \item If you cannot fit the return type and the function name on a single line, break between them.
    \item If you break after the return type of a function declaration or definition, do not indent.
    \item The open parenthesis is always on the same line as the function name.
    \item There is never a space between the function name and the open parenthesis.
    \item There is never a space between the parentheses and the parameters.
    \item The open curly brace is always on the end of the last line of the function declaration, not the start of the next line.
    \item The close curly brace is either on the last line by itself or on the same line as the open curly brace.
    \item There should be a space between the close parenthesis and the open curly brace.
    \item All parameters should be aligned if possible.
    \item Default indentation is 2 spaces.
    \item Wrapped parameters have a 4 space indent.
\end{itemize}
Unused parameters that are obvious from context may be omitted:
% \vspace{-\baselineskip}
\begin{minted}{C++}
class Foo {
 public:
  Foo(const Foo&) = delete;
  Foo& operator=(const Foo&) = delete;
};
\end{minted}
Unused parameters that might not be obvious should comment out the variable name in the function definition:
% \vspace{-\baselineskip}
\begin{minted}{C++}
class Shape {
 public:
  virtual void Rotate(double radians) = 0;
};

class Circle : public Shape {
 public:
  void Rotate(double radians) override;
};

void Circle::Rotate(double /*radians*/) {}
\end{minted}
% \vspace{-\baselineskip}
\begin{minted}[mathescape,
    bgcolor=code_bg_con,
    linenos,
    numbersep=5pt,
    autogobble, % 左对齐
    breaklines,
    frame=lines,
    framesep=2mm]{C++}
// Bad - if someone wants to implement later, it's not clear what the
// variable means.
void Circle::Rotate(double) {}
\end{minted}

Attributes, and macros that expand to attributes, appear at the very beginning of the function declaration or definition, before the return type:
% \vspace{-\baselineskip}
\begin{minted}{C++}
ABSL_ATTRIBUTE_NOINLINE void ExpensiveFunction();
[[nodiscard]] bool IsOk();
\end{minted}
